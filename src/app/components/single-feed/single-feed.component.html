<app-add-post (parentFun)="parentFun()" *ngIf="updatePost"></app-add-post>
<mat-card class="card" *ngIf="post">
  <mat-card-header>
    <div
      mat-card-avatar
      class="header-image"
      [ngStyle]="{ 'background-image': 'url(' + post.profilePic + ')' }"
    ></div>
    <mat-card-title>{{ post.title }}</mat-card-title>
    <mat-card-subtitle>{{ post.id }}</mat-card-subtitle>
  </mat-card-header>
  <img mat-card-image src="{{ post.image_url }}" />
  <mat-card-content class="content">
    <p>
      {{ post.content }}
    </p>
  </mat-card-content>
  <form [formGroup]="addCommentForm" (ngSubmit)="onSubmit()" class="post-form">
    <mat-form-field class="post-full-width" appearance="fill">
      <mat-label>Réagissez</mat-label>
      <textarea
        formControlName="content"
        matInput
        placeholder="Ex. Qu'il est mignon ce chien"
      ></textarea>
    </mat-form-field>
  </form>
  <mat-card-actions id="cmdBox">
    <button type="submit" mat-raised-button color="primary">Commenter</button>
    <button
      id="modifyPost"
      mat-raised-button
      color="accent"
      (click)="openEditPost()"
    >
      modifier
    </button>
    <button id="deletePost" mat-mini-fab color="accent">
      <mat-icon>delete</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>

<!-- réunifier le formulaire ! -->
<div id="noComments" *ngIf="comments === null">
  <h2>Pas de commentaires à afficher</h2>
</div>
<mat-card class="comment-card" *ngFor="let comment of comments">
  <mat-card-title-group>
    <mat-card-title> {{ comment.commentAuthor }}</mat-card-title>
    <mat-card-subtitle>{{
      comment.date_creation | date: "short"
    }}</mat-card-subtitle>
    <!-- <img
      mat-card-sm-image
      src="https://material.angular.io/assets/img/examples/shiba2.jpg"
    /> -->
  </mat-card-title-group>
  <mat-card-content>
    {{ comment.content }}
  </mat-card-content>
  <!--<button mat-mini-fab color="primary">
   <mat-icon>delete</mat-icon>
  </button>-->
</mat-card>
